{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Luiz Felipe\\\\Documents\\\\React\\\\comandafront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Luiz Felipe\\\\Documents\\\\React\\\\comandafront\\\\src\\\\pages\\\\CompanyRegister.js\";\nimport React, { useEffect } from 'react';\nimport '../styles/Style.css';\nimport { useSnackbar } from 'notistack';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Paper from '@material-ui/core/Paper';\nimport api from '../services/api';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    marginTop: 65,\n    flexGrow: 1\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  },\n  highlight: theme.palette.type === 'light' ? {\n    color: theme.palette.secondary.main,\n    backgroundColor: lighten(theme.palette.secondary.light, 0.85)\n  } : {\n    color: theme.palette.text.primary,\n    backgroundColor: theme.palette.secondary.dark\n  },\n  title: {\n    flex: '1 1 100%'\n  },\n  button: {\n    padding: theme.spacing(2)\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary\n  }\n}));\nexport default function Company({\n  match,\n  history\n}) {\n  const classes = useStyles();\n  const companyId = match.params.companyId;\n\n  const _useSnackbar = useSnackbar(),\n        enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  const _React$useState = React.useState(''),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        id = _React$useState2[0],\n        setId = _React$useState2[1];\n\n  const _React$useState3 = React.useState(''),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        name = _React$useState4[0],\n        setName = _React$useState4[1];\n\n  const _React$useState5 = React.useState(''),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        legalName = _React$useState6[0],\n        setLegalName = _React$useState6[1];\n\n  const _React$useState7 = React.useState(''),\n        _React$useState8 = _slicedToArray(_React$useState7, 2),\n        cnpj = _React$useState8[0],\n        setCnpj = _React$useState8[1];\n\n  const _React$useState9 = React.useState(''),\n        _React$useState10 = _slicedToArray(_React$useState9, 2),\n        phone = _React$useState10[0],\n        setPhone = _React$useState10[1];\n\n  const tokenId = localStorage.getItem('@comanda/token');\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const response = await api.post('/company', {\n      _id: id,\n      name,\n      legalName,\n      cnpj,\n      phone\n    }, {\n      headers: {\n        'x-access-token': tokenId\n      }\n    }).catch(error => {\n      enqueueSnackbar('Falha ao efetuar cadastro.', {\n        variant: 'error'\n      });\n    });\n\n    if (!response.data.error) {\n      history.push('/company');\n      enqueueSnackbar('Cadastro efetuado com sucesso!', {\n        variant: 'success'\n      });\n    } else {\n      enqueueSnackbar('Falha ao efetuar cadastro.', {\n        variant: 'error'\n      });\n    }\n  }\n\n  const handleChange = event => {\n    setName(event.target.value);\n  };\n\n  useEffect(() => {\n    if (companyId) {\n      async function loadCompany() {\n        const response = await api.get('/company/' + companyId, {\n          headers: {\n            'x-access-token': tokenId\n          }\n        });\n        setId(response.data._id);\n        setName(response.data.name);\n        setLegalName(response.data.legalName);\n        setCnpj(response.data.cnpj);\n        setPhone(response.data.phone);\n      }\n\n      loadCompany();\n    }\n  }, [tokenId]);\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(Input, {\n    id: \"component-simple\",\n    value: id,\n    onChange: handleChange,\n    type: \"hidden\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }), React.createElement(Paper, {\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"flex-start\",\n    alignItems: \"flex-start\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: classes.title,\n    variant: \"h6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Cadastro\")), React.createElement(Grid, {\n    spacing: 3,\n    container: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    fullWidth: true,\n    className: classes.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    htmlFor: \"component-simple\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, \"Nome Fantasia\"), React.createElement(Input, {\n    id: \"component-simple\",\n    value: name,\n    onChange: e => setName(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    fullWidth: true,\n    className: classes.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    htmlFor: \"component-simple\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, \"Raz\\xE3o Social\"), React.createElement(Input, {\n    id: \"component-simple\",\n    value: legalName,\n    onChange: e => setLegalName(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    fullWidth: true,\n    className: classes.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    htmlFor: \"component-simple\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"Telefone\"), React.createElement(Input, {\n    id: \"component-simple\",\n    value: phone,\n    onChange: e => setPhone(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    fullWidth: true,\n    className: classes.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    htmlFor: \"component-simple\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, \"CNPJ\"), React.createElement(Input, {\n    id: \"component-simple\",\n    value: cnpj,\n    onChange: e => setCnpj(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    container: true,\n    className: classes.button,\n    direction: \"row\",\n    justify: \"flex-end\",\n    alignItems: \"flex-end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, \"Salvar\")))))));\n}","map":{"version":3,"sources":["C:\\Users\\Luiz Felipe\\Documents\\React\\comandafront\\src\\pages\\CompanyRegister.js"],"names":["React","useEffect","useSnackbar","lighten","makeStyles","FormControl","Input","InputLabel","Typography","Grid","Button","Select","MenuItem","Paper","api","useStyles","theme","root","paddingLeft","spacing","paddingRight","marginTop","flexGrow","selectEmpty","highlight","palette","type","color","secondary","main","backgroundColor","light","text","primary","dark","title","flex","button","padding","paper","textAlign","Company","match","history","classes","companyId","params","enqueueSnackbar","useState","id","setId","name","setName","legalName","setLegalName","cnpj","setCnpj","phone","setPhone","tokenId","localStorage","getItem","handleSubmit","e","preventDefault","response","post","_id","headers","catch","error","variant","data","push","handleChange","event","target","value","loadCompany","get","formControl"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport '../styles/Style.css';\r\nimport { useSnackbar } from 'notistack';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport api from '../services/api'\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n    marginTop: 65,\r\n    flexGrow: 1,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n        color: theme.palette.secondary.main,\r\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n      }\r\n      : {\r\n        color: theme.palette.text.primary,\r\n        backgroundColor: theme.palette.secondary.dark,\r\n      },\r\n  title: {\r\n    flex: '1 1 100%',\r\n  },\r\n  button: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n  },\r\n}));\r\n\r\nexport default function Company({ match, history }) {\r\n\r\n  const classes = useStyles();\r\n\r\n  const companyId = match.params.companyId;\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const [id, setId] = React.useState('');\r\n  const [name, setName] = React.useState('');\r\n  const [legalName, setLegalName] = React.useState('');\r\n  const [cnpj, setCnpj] = React.useState('');\r\n  const [phone, setPhone] = React.useState('');\r\n\r\n  const tokenId = localStorage.getItem('@comanda/token');\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const response = await api.post('/company', { _id: id, name, legalName, cnpj, phone }, {\r\n      headers: {\r\n        'x-access-token': tokenId,\r\n      },\r\n    }).catch(error => {\r\n      enqueueSnackbar('Falha ao efetuar cadastro.', {\r\n        variant: 'error'\r\n      });\r\n    });\r\n\r\n    if (!response.data.error) {\r\n      history.push('/company');\r\n      enqueueSnackbar('Cadastro efetuado com sucesso!', {\r\n        variant: 'success'\r\n      });\r\n    } else {\r\n      enqueueSnackbar('Falha ao efetuar cadastro.', {\r\n        variant: 'error'\r\n      });\r\n    }\r\n  }\r\n\r\n  const handleChange = event => {\r\n    setName(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (companyId) {\r\n      async function loadCompany() {\r\n        const response = await api.get('/company/' + companyId, {\r\n          headers: {\r\n            'x-access-token': tokenId,\r\n          }\r\n        })\r\n        setId(response.data._id);\r\n        setName(response.data.name);\r\n        setLegalName(response.data.legalName);\r\n        setCnpj(response.data.cnpj);\r\n        setPhone(response.data.phone);\r\n      }\r\n\r\n      loadCompany();\r\n    }\r\n  }, [tokenId]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid className={classes.root}>\r\n        <form onSubmit={handleSubmit}>\r\n          <Input id=\"component-simple\" value={id} onChange={handleChange} type=\"hidden\" />\r\n          <Paper className={classes.paper}>\r\n            <Grid\r\n              container\r\n              direction=\"row\"\r\n              justify=\"flex-start\"\r\n              alignItems=\"flex-start\"\r\n            >\r\n              <Typography className={classes.title} variant=\"h6\" >\r\n                Cadastro\r\n              </Typography>\r\n            </Grid>\r\n            <Grid spacing={3} container>\r\n              <Grid item xs={12} sm={6}>\r\n                <FormControl fullWidth className={classes.formControl}>\r\n                  <InputLabel htmlFor=\"component-simple\">Nome Fantasia</InputLabel>\r\n                  <Input\r\n                    id=\"component-simple\"\r\n                    value={name}\r\n                    onChange={e => setName(e.target.value)}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <FormControl fullWidth className={classes.formControl}>\r\n                  <InputLabel htmlFor=\"component-simple\">Raz√£o Social</InputLabel>\r\n                  <Input\r\n                    id=\"component-simple\"\r\n                    value={legalName}\r\n                    onChange={e => setLegalName(e.target.value)}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <FormControl fullWidth className={classes.formControl}>\r\n                  <InputLabel htmlFor=\"component-simple\">Telefone</InputLabel>\r\n                  <Input\r\n                    id=\"component-simple\"\r\n                    value={phone}\r\n                    onChange={e => setPhone(e.target.value)}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <FormControl fullWidth className={classes.formControl}>\r\n                  <InputLabel htmlFor=\"component-simple\">CNPJ</InputLabel>\r\n                  <Input\r\n                    id=\"component-simple\"\r\n                    value={cnpj}\r\n                    onChange={e => setCnpj(e.target.value)}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid\r\n                container\r\n                className={classes.button}\r\n                direction=\"row\"\r\n                justify=\"flex-end\"\r\n                alignItems=\"flex-end\"\r\n              >\r\n                <Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n                  Salvar\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Paper>\r\n        </form>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}